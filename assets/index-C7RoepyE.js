import{j as e,I as n,G as t,r as l,h as s,B as a,H as o}from"./vendor-react-antd-CRdMjcEk.js";import"./vendor-others-B_SqjRtK.js";import"./vendor-dayjs-BMl2ZANK.js";const c=({defaultValue:l,value:s,id:a,index:o,activated:c,onChange:u,onPressEnter:i,onBackspace:d,onClick:r,onActive:v})=>e.jsx(n,{id:a,defaultValue:l,value:s,addonBefore:e.jsxs("div",{onClick:()=>{null==r||r(o,s)},children:[e.jsx(t,{style:{paddingRight:"0.5em"},checked:c,onChange:()=>{null==v||v(o)}}),o+1]}),type:"text",size:"small",placeholder:"学生姓名",style:{width:8+(void 0===s?1:s.toString().length-1)+"em"},onChange:e=>{const n=e.target.value;null==u||u(n,o)},onPressEnter:e=>{const n=e.target;null==i||i(n.value,o)},onKeyDown:e=>{"Backspace"===e.key&&""===e.target.value&&(null==d||d(o))}});function u(n,t,l,s){const a=[];for(let o=0;o<n;o++)a.push(e.jsx(c,{value:null==l?void 0:l[o],id:"input-"+o,index:o,activated:null==s?void 0:s[o],...t},o));return a}const i=({values_:n,activated_list_:t,onChange:c,onClear:i,onClick:d,onActive:r,style:v})=>{const[g,p]=l.useState(n||[]),[h,f]=l.useState(t||(null==n?void 0:n.map((()=>!0)))||[]);l.useEffect((()=>{void 0!==n&&p(n)}),[c,n]),l.useEffect((()=>{f(t||[])}),[t]);const m=l.useCallback((e=>{const n=[...h];n[e]=!n[e],f(n),null==r||r(e,n)}),[h,r]),[C,j]=l.useState(2),k=l.useCallback(((e,n)=>{const t=[...g];t[n]=e,p(t),null==c||c(t)}),[g,c]);return l.useEffect((()=>{const e=g.length+1;C!==e&&j(e)}),[g,C]),e.jsxs(s,{gap:10,align:"center",wrap:!0,style:v,children:[u(C,{onPressEnter:(e,n)=>{const t=document.getElementById("input-"+(n+1));t.focus(),t.select()},onChange:k,onClick:d,onBackspace:e=>{var n;if(g.length>0){const t=[...g];t.splice(e,1),p(t),null==c||c(t),null==(n=document.getElementById("input-"+e))||n.focus()}},onActive:m},g,h),g.length>0&&e.jsx(a,{type:"default",size:"small",icon:e.jsx(o,{}),style:{color:"red"},onClick:()=>{p([]),j(2),null==i||i()}})]})};export{i as default};
