import{r as e,t,j as n,B as s,Q as i,U as l,b as a,F as o,I as d,c,o as r,V as m,m as p,W as x}from"./vendor-react-antd-CV6UOIML.js";import"./vendor-others-B_SqjRtK.js";import"./vendor-dayjs-BMl2ZANK.js";const{useToken:j}=t,h=({onClick:t,disabled:a})=>{const[o,d]=e.useState(!1),{colorSuccess:c}=j().token;return n.jsx(s,{disabled:a,type:"link",color:"pink",icon:o?n.jsx(i,{style:{color:c}}):n.jsx(l,{}),onClick:()=>{o||(d(!0),setTimeout((()=>{d(!1)}),1500),t())}})},{useToken:u}=t,y=e.memo((({student:e,index:t,studentInfo:i,handleSingleAIOptimize:l,copyToClipboard:j,copyStudentWithTemplate:y})=>{const{token:g}=u();return n.jsxs(a,{id:`student-content-${t}`,style:{marginBottom:"2rem",boxShadow:"10px 10px 20px 10px rgba(0, 0, 0, 0.05)"},size:"small",title:n.jsxs(c,{justify:"space-between",children:[n.jsxs(p.Text,{style:{alignContent:"center"},children:[n.jsx("span",{style:{marginRight:"20px"},children:t+1}),e]}),n.jsxs("div",{style:{display:"inline-flex",alignItems:"center"},children:[n.jsx(s,{type:"link",style:{marginLeft:"1rem"},size:"small",icon:n.jsx(x,{}),onClick:()=>{l(t)},disabled:i.loading,children:"重新或单独生成"}),n.jsx(h,{disabled:!i.activated||i.loading,onClick:()=>{y(t)}})]})]}),children:[n.jsx(o.Item,{name:["content",t],children:n.jsx(d.TextArea,{disabled:!i.activated,size:"small",title:"填写学生课堂表现关键词",autoSize:{minRows:1,maxRows:12},style:{padding:"8px"}})}),(null==i?void 0:i.loading)&&n.jsx(c,{justify:"center",align:"center",style:{marginTop:"1rem",marginBottom:"1rem"},children:n.jsx(r,{style:{fontSize:"1.5rem",color:g.colorPrimary}})}),i.activated&&n.jsx(m,{size:"small",items:[{key:`think_${t}`,label:n.jsxs(c,{justify:"space-between",children:["思考",n.jsx(h,{disabled:!i.activated||i.loading||""===i.think_content,onClick:()=>{j(null==i?void 0:i.think_content)}})]}),children:n.jsx(p.Paragraph,{type:"secondary",children:null==i?void 0:i.think_content})},{key:`content_${t}`,label:n.jsxs(c,{justify:"space-between",children:["内容",n.jsx(h,{disabled:!i.activated||i.loading||""===i.content,onClick:()=>{j(null==i?void 0:i.content)}})]}),children:n.jsx(p.Paragraph,{style:{width:"100%"},children:null==i?void 0:i.content})}],defaultActiveKey:[`content_${t}`]})]},t)})),g=e.memo((({students:e,students_info:t,handleSingleAIOptimize:s,copyToClipboard:i,copyStudentWithTemplate:l})=>n.jsx(n.Fragment,{children:e.map(((e,a)=>n.jsx(y,{student:e.replace("|",""),index:a,studentInfo:t[a],handleSingleAIOptimize:s,copyToClipboard:i,copyStudentWithTemplate:l},`student-card-${a}`)))})));export{g as default};
