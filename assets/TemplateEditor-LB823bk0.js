import{r as e,j as t,M as n,e as s,p as r,I as a,B as i}from"./vendor-react-antd-CV6UOIML.js";import"./vendor-others-B_SqjRtK.js";import"./vendor-dayjs-BMl2ZANK.js";const o={"学生姓名":"{{studentName}}","学生姓氏":"{{lastName}}","学生名字":"{{firstName}}","课程名称":"{{courseName}}","授课时间":"{{courseTime}}","课程内容概览":"{{courseContents}}","教学目标":"{{courseObjectives}}","课堂表现":"{{courseFeedback}}","著名":"{{signature}}","当前日期":"{{currentDate}}"},c=({isOpen:c,onClose:l,onSave:u,initialTemplate:d,initialSignature:p,sendMessage:g})=>{const[m,x]=e.useState(d),[h,j]=e.useState(p),[v,y]=e.useState(0);e.useEffect((()=>{x(d),j(p)}),[d,p]);const C=e.useCallback((()=>{x("**课程名称:** {{courseName}}\n\n**授课时间:** {{courseTime}}\n\n**课程内容概览:**\n{{courseContents}}\n\n**教学目标:**\n{{courseObjectives}}\n\n**课堂表现:**\n{{courseFeedback}}\n\n{{signature}}\n{{currentDate}}"),j("哆啦人工智能小栈")}),[]),b=e.useCallback((e=>{const t=m.substring(0,v),n=m.substring(v);x(t+e+n);const s=v+e.length;y(s)}),[m,v]),k=e=>{const t=e.target;y(t.selectionStart||0)};return t.jsx(n,{title:"自定义反馈模板",open:c,onCancel:l,onOk:()=>{u(m,h),g("反馈模板已保存")},width:700,children:t.jsxs(s,{direction:"vertical",style:{width:"100%",marginBottom:"16px"},children:[t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("span",{style:{marginRight:"8px"},children:"可插入的占位符: "}),Object.entries(o).map((([e,n])=>t.jsx(r,{color:"blue",style:{cursor:"pointer",margin:"4px"},onClick:()=>b(n),children:e},e)))]}),t.jsx(a.TextArea,{value:m,onChange:e=>x(e.target.value),onKeyUp:k,onClick:k,placeholder:"输入自定义模板",autoSize:{minRows:10,maxRows:20}}),t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsx("span",{style:{marginRight:"8px"},children:"自定义签名:"}),t.jsx(a,{value:h,onChange:e=>j(e.target.value),placeholder:"输入自定义签名",style:{width:"300px"}}),t.jsx(r,{color:"orange",style:{marginLeft:"8px",cursor:"pointer"},onClick:()=>b(o["著名"]),children:"插入签名占位符"})]}),t.jsx("div",{style:{marginTop:"16px",textAlign:"right"},children:t.jsx(i,{onClick:C,style:{marginRight:"8px"},children:"恢复默认模板"})})]})})};export{c as default};
