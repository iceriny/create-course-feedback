import{r as e,j as n,M as t,e as s,p as r,I as a,B as i}from"./vendor-react-antd-CQDt9b0x.js";import"./vendor-others-B_SqjRtK.js";import"./vendor-dayjs-BMl2ZANK.js";const o={"课程名称":"{{courseName}}","授课时间":"{{courseTime}}","课程内容概览":"{{courseContents}}","教学目标":"{{courseObjectives}}","课堂表现":"{{courseFeedback}}","著名":"{{signature}}","当前日期":"{{currentDate}}"},c=({isOpen:c,onClose:l,onSave:u,initialTemplate:d,initialSignature:p,sendMessage:g})=>{const[x,h]=e.useState(d),[m,j]=e.useState(p),[v,y]=e.useState(0);e.useEffect((()=>{h(d),j(p)}),[d,p]);const C=e.useCallback((()=>{h("**课程名称:** {{courseName}}\n\n**授课时间:** {{courseTime}}\n\n**课程内容概览:**\n{{courseContents}}\n\n**教学目标:**\n{{courseObjectives}}\n\n**课堂表现:**\n{{courseFeedback}}\n\n{{signature}}\n{{currentDate}}"),j("哆啦人工智能小栈")}),[]),b=e.useCallback((e=>{const n=x.substring(0,v),t=x.substring(v);h(n+e+t);const s=v+e.length;y(s)}),[x,v]),k=e=>{const n=e.target;y(n.selectionStart||0)};return n.jsx(t,{title:"自定义反馈模板",open:c,onCancel:l,onOk:()=>{u(x,m),g("反馈模板已保存")},width:700,children:n.jsxs(s,{direction:"vertical",style:{width:"100%",marginBottom:"16px"},children:[n.jsxs("div",{style:{marginBottom:"8px"},children:[n.jsx("span",{style:{marginRight:"8px"},children:"可插入的占位符: "}),Object.entries(o).map((([e,t])=>n.jsx(r,{color:"blue",style:{cursor:"pointer",margin:"4px"},onClick:()=>b(t),children:e},e)))]}),n.jsx(a.TextArea,{value:x,onChange:e=>h(e.target.value),onKeyUp:k,onClick:k,placeholder:"输入自定义模板",autoSize:{minRows:10,maxRows:20}}),n.jsxs("div",{style:{marginTop:"16px"},children:[n.jsx("span",{style:{marginRight:"8px"},children:"自定义签名:"}),n.jsx(a,{value:m,onChange:e=>j(e.target.value),placeholder:"输入自定义签名",style:{width:"300px"}}),n.jsx(r,{color:"orange",style:{marginLeft:"8px",cursor:"pointer"},onClick:()=>b(o["著名"]),children:"插入签名占位符"})]}),n.jsx("div",{style:{marginTop:"16px",textAlign:"right"},children:n.jsx(i,{onClick:C,style:{marginRight:"8px"},children:"恢复默认模板"})})]})})};export{c as default};
